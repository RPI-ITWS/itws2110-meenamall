<!doctype html>
<html lang="en-US">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="style.css">
    <title>Meena Weather App</title>
</head>
<body>

    
    <div class="upperheader">

        <div class="weather">
            <img src="itws2110-meenamall/lab3/images
            /cloudy.png" class="weather-icon">
            <h1 class="temp">22°C</h1>
            <h2 class="state">New York</h2>
            <h2 class="city">Troy</h2>
            <div class="weatherdetails">
                <div class="column">
                    <img src="images/humidity.png">
                    <div>
                        <p class="humidity">50%</p>
                        <p>Humidity</p>
                    </div>
                </div>


                <div class="column">
                    <img src="images/wind.png">
                    <div>
                        <p class="wind">15 mph</p>
                        <p>Wind Speed</p>
                    </div>
                </div>

            </div>

        </div>


        <div class="cat-container">
            <img id="cat-image" src="" alt="Random Cat">
            <button id="new-cat-button">Get New Cat</button>
        </div>


    </div>


<script>

const apikey = "1c668b802738a4219a8aa698d8d295cb";
const apiurl = "https://api.openweathermap.org/data/2.5/weather?lat=42.7284&lon=-73.6918&appid=1c668b802738a4219a8aa698d8d295cb&units=imperial";


const catapikey = "live_jjkPyzpAhxQenIgZqKXtawWrpbBhLmxJBfrq1UJRdsHvIm8Tzlt9vbFvY8FP2duK";
const catapiurl = "https://api.thecatapi.com/v1/images/search?limit=10&breed_ids=beng";

const weatherIcon = document.querySelector(".weather-icon");

const catImage = document.getElementById("cat-image");
const newCatButton = document.getElementById("new-cat-button");


async function checkWeather(){
    const response = await fetch(apiurl + '&appid=${apikey}');
    var data = await response.json();

    console.log(data);

    document.querySelector(".city").innerHTML = data.name;
    document.querySelector(".temp").innerHTML = Math.round(data.main.temp) + "°F";
    document.querySelector(".humidity").innerHTML = data.main.humidity + "%";
    document.querySelector(".wind").innerHTML = data.wind.speed + " mph";

    
    if(data.weather[0].main == "Clouds"){
        weatherIcon.src = "images/cloudy.png";
    }
    else if(data.weather[0].main == "Clear"){
        weatherIcon.src = "images/sunny.png";
    }
    else if(data.weather[0].main == "Rain"){
        weatherIcon.src = "images/rain.png";
    }
    else if(data.weather[0].main == "Drizzle"){
        weatherIcon.src = "images/drizzle.png";
    }
    else if(data.weather[0].main == "Mist"){
        weatherIcon.src = "images/mist.png";
    }
    else if(data.weather[0].main == "Snow"){
        weatherIcon.src = "images/snow.png";
    }
   
}

checkWeather();


function fetchRandomCat(){
    fetch(catapiurl)
    .then((response) => response.json())
    .then((data) => {
        
        if (data && data.length > 0) {
            const randomCatUrl = data[0].url;
            catImage.src = randomCatUrl;
        } else {
            catImage.src = ""; 
        }
    })
    .catch((error) => {
        console.error("Error fetching cat:", error);
    });
}

newCatButton.addEventListener("click", fetchRandomCat);


fetchRandomCat();

</script>


</body>
</html>